Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.10/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/opt/homebrew/lib/python3.10/site-packages/nbclient/client.py", line 1305, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/opt/homebrew/lib/python3.10/site-packages/jupyter_core/utils/__init__.py", line 166, in wrapped
    return loop.run_until_complete(inner)
  File "/opt/homebrew/Cellar/python@3.10/3.10.9/Frameworks/Python.framework/Versions/3.10/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/opt/homebrew/lib/python3.10/site-packages/nbclient/client.py", line 705, in async_execute
    await self.async_execute_cell(
  File "/opt/homebrew/lib/python3.10/site-packages/nbclient/client.py", line 1058, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/opt/homebrew/lib/python3.10/site-packages/nbclient/client.py", line 914, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
tags: ["hide-input"]

import warnings
warnings.filterwarnings('ignore')


!pip install interact --quiet
!pip install interactive --quiet

import matplotlib.pyplot as plt
import numpy as np
import ipywidgets as widgets
from ipywidgets import interact, interactive
from IPython.display import display

def HH_model(C,Gna,Gk,Gleak):
  dt      = 0.5; # all time units in ms
  t_end = 1000;
  num_timepoints = t_end/dt;
  time    = int(num_timepoints);

 # C       = 1; # (muF/cm^2)
 # Gna     = 2.0; # (2mS/cm^2)
 # Gk      = 1.44; # (1.44mS/cm^2)
 # Gleak   = 0.2; # (0.2mS/cm^2)


  Ena     = 50.0; # (mV)
  Ek      = -77.0; # (mV)
  Eleak   = -54.0; # (mV)

  kn      = 15.0; # (mV)
  km      = 7.0; # (mV);
  tau     = 10.0; # (ms)
  Vn      = -45.0; # (mV)

  n       = np.zeros((time,1));      # this is our gating parameter
  V       = Eleak*np.ones((time,1)); # this will store our membrane potential
  Iin     = 2.0;                     # and this is an input current (muA/cm^2)

  x = np.arange(1, time, 1, dtype=int);


  for t in x:
      minf    = 1/(1+np.exp((-40.0-V[t-1])/km));
      ninf    = 1/(1+np.exp((Vn-V[t-1])/kn));
      h       = 0.89 - 1.1*n[t-1];

      dvdt = (1/C)*(-Gna*minf**3*h*(V[t-1]-Ena) - Gk*n[t-1]**4*(V[t-1]-Ek) - Gleak*(V[t-1]-Eleak) + Iin);
      dndt = (1/tau)*(ninf - n[t-1]);

      V[t] = V[t-1] + dvdt*dt;
      n[t] = n[t-1] + dndt*dt;

  x = np.arange(0, time, 1, dtype=int);

  plt.figure()
  plt.plot(x,V)
  plt.ylabel('Voltage (mV)');
  plt.xlabel('Time (ms)');
  plt.ylim(-70,);
  plt.show


interact_manual(HH_model, C = widgets.FloatSlider(
    value=1.0,
    min=0.1,
    max=2.0,
    step=0.1,
    continuous_update=False,
    description='membrane capacitance:'),
    Gna = widgets.FloatSlider(
    value=2.0,
    min=0.0,
    max=5.0,
    step=0.1,
    continuous_update=False,
    description='Sodium conductance:'),
    Gk = widgets.FloatSlider(
    value=1.44,
    min=0.0,
    max=5.0,
    step=0.1,
    continuous_update=False,
    description='Potassium conductance:'),
    Gleak = widgets.FloatSlider(
    value=0.2,
    min=0.0,
    max=1.0,
    step=0.1,
    continuous_update=False,
    description='Leak conductance:')
)
------------------


[0;31m---------------------------------------------------------------------------[0m
[0;31mNameError[0m                                 Traceback (most recent call last)
Cell [0;32mIn[1], line 65[0m
[1;32m     61[0m   plt[38;5;241m.[39mylim([38;5;241m-[39m[38;5;241m70[39m,);
[1;32m     62[0m   plt[38;5;241m.[39mshow
[0;32m---> 65[0m [43minteract_manual[49m(HH_model, C [38;5;241m=[39m widgets[38;5;241m.[39mFloatSlider(
[1;32m     66[0m     value[38;5;241m=[39m[38;5;241m1.0[39m,
[1;32m     67[0m     [38;5;28mmin[39m[38;5;241m=[39m[38;5;241m0.1[39m,
[1;32m     68[0m     [38;5;28mmax[39m[38;5;241m=[39m[38;5;241m2.0[39m,
[1;32m     69[0m     step[38;5;241m=[39m[38;5;241m0.1[39m,
[1;32m     70[0m     continuous_update[38;5;241m=[39m[38;5;28;01mFalse[39;00m,
[1;32m     71[0m     description[38;5;241m=[39m[38;5;124m'[39m[38;5;124mmembrane capacitance:[39m[38;5;124m'[39m),
[1;32m     72[0m     Gna [38;5;241m=[39m widgets[38;5;241m.[39mFloatSlider(
[1;32m     73[0m     value[38;5;241m=[39m[38;5;241m2.0[39m,
[1;32m     74[0m     [38;5;28mmin[39m[38;5;241m=[39m[38;5;241m0.0[39m,
[1;32m     75[0m     [38;5;28mmax[39m[38;5;241m=[39m[38;5;241m5.0[39m,
[1;32m     76[0m     step[38;5;241m=[39m[38;5;241m0.1[39m,
[1;32m     77[0m     continuous_update[38;5;241m=[39m[38;5;28;01mFalse[39;00m,
[1;32m     78[0m     description[38;5;241m=[39m[38;5;124m'[39m[38;5;124mSodium conductance:[39m[38;5;124m'[39m),
[1;32m     79[0m     Gk [38;5;241m=[39m widgets[38;5;241m.[39mFloatSlider(
[1;32m     80[0m     value[38;5;241m=[39m[38;5;241m1.44[39m,
[1;32m     81[0m     [38;5;28mmin[39m[38;5;241m=[39m[38;5;241m0.0[39m,
[1;32m     82[0m     [38;5;28mmax[39m[38;5;241m=[39m[38;5;241m5.0[39m,
[1;32m     83[0m     step[38;5;241m=[39m[38;5;241m0.1[39m,
[1;32m     84[0m     continuous_update[38;5;241m=[39m[38;5;28;01mFalse[39;00m,
[1;32m     85[0m     description[38;5;241m=[39m[38;5;124m'[39m[38;5;124mPotassium conductance:[39m[38;5;124m'[39m),
[1;32m     86[0m     Gleak [38;5;241m=[39m widgets[38;5;241m.[39mFloatSlider(
[1;32m     87[0m     value[38;5;241m=[39m[38;5;241m0.2[39m,
[1;32m     88[0m     [38;5;28mmin[39m[38;5;241m=[39m[38;5;241m0.0[39m,
[1;32m     89[0m     [38;5;28mmax[39m[38;5;241m=[39m[38;5;241m1.0[39m,
[1;32m     90[0m     step[38;5;241m=[39m[38;5;241m0.1[39m,
[1;32m     91[0m     continuous_update[38;5;241m=[39m[38;5;28;01mFalse[39;00m,
[1;32m     92[0m     description[38;5;241m=[39m[38;5;124m'[39m[38;5;124mLeak conductance:[39m[38;5;124m'[39m)
[1;32m     93[0m )

[0;31mNameError[0m: name 'interact_manual' is not defined

